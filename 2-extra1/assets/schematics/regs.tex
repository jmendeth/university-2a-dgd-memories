  % Pin (INPUT) named keycode[3..0]
  \draw[input pin] (5.0476,-3.7143) -- (5.6429,-3.7143) -- (5.7381,-3.6190) -- (5.6429,-3.5238) -- (5.0476,-3.5238) -- cycle;
  \draw[pin name] (5.0476,-3.6190) node[anchor=east] {$\nodenamerange{keycode}{3}{0}$};

  % Pin (INPUT) named clk
  \draw[input pin] (5.0476,-4.4762) -- (5.6429,-4.4762) -- (5.7381,-4.3810) -- (5.6429,-4.2857) -- (5.0476,-4.2857) -- cycle;
  \draw[pin name] (5.0476,-4.3810) node[anchor=east] {$\nodenamebit{clk}$};

  % Pin (INPUT) named nrst
  \draw[input pin] (5.0476,-4.8571) -- (5.6429,-4.8571) -- (5.7381,-4.7619) -- (5.6429,-4.6667) -- (5.0476,-4.6667) -- cycle;
  \draw[pin name] (5.0476,-4.7619) node[anchor=east] {$\nodenamebit{nrst}$};

  % Pin (INPUT) named intro
  \draw[input pin] (5.0476,-5.2381) -- (5.6429,-5.2381) -- (5.7381,-5.1429) -- (5.6429,-5.0476) -- (5.0476,-5.0476) -- cycle;
  \draw[pin name] (5.0476,-5.1429) node[anchor=east] {$\nodenamebit{intro}$};

  % Pin (INPUT) named negar
  \draw[input pin] (5.0476,-5.6190) -- (5.6429,-5.6190) -- (5.7381,-5.5238) -- (5.6429,-5.4286) -- (5.0476,-5.4286) -- cycle;
  \draw[pin name] (5.0476,-5.5238) node[anchor=east] {$\nodenamebit{negar}$};

  % Pin (OUTPUT) named opB[3..0]
  \draw[output pin] (14.7619,-4.6667) -- (15.3810,-4.6667) -- (15.4762,-4.7619) -- (15.3810,-4.8571) -- (14.7619,-4.8571) -- cycle;
  \draw[pin name] (15.4762,-4.7619) node[anchor=west] {$\nodenamerange{opB}{3}{0}$};

  % Pin (OUTPUT) named opA[3..0]
  \draw[output pin] (14.7619,-3.9048) -- (15.3810,-3.9048) -- (15.4762,-4.0000) -- (15.3810,-4.0952) -- (14.7619,-4.0952) -- cycle;
  \draw[pin name] (15.4762,-4.0000) node[anchor=west] {$\nodenamerange{opA}{3}{0}$};

  % Pin (OUTPUT) named sigA
  \draw[output pin] (14.7619,-0.8571) -- (15.3810,-0.8571) -- (15.4762,-0.9524) -- (15.3810,-1.0476) -- (14.7619,-1.0476) -- cycle;
  \draw[pin name] (15.4762,-0.9524) node[anchor=west] {$\nodenamebit{sigA}$};

  % Pin (OUTPUT) named sigB
  \draw[output pin] (14.7619,-1.6190) -- (15.3810,-1.6190) -- (15.4762,-1.7143) -- (15.3810,-1.8095) -- (14.7619,-1.8095) -- cycle;
  \draw[pin name] (15.4762,-1.7143) node[anchor=west] {$\nodenamebit{sigB}$};

  % Symbol (DFFE) named inst
  \draw[symbol bounds] (8.0000,-3.0476) rectangle (9.5238,-4.9524);
  \draw[symbol type] (8.3095,-3.1667) node[] {DFFE};
  \draw[symbol] (8.2857,-4.6667) -- (9.2381,-4.6667);
  \draw[symbol] (8.2857,-3.3333) -- (9.2381,-3.3333);
  \draw[symbol] (9.2381,-4.6667) -- (9.2381,-3.3333);
  \draw[symbol] (8.2857,-4.6667) -- (8.2857,-3.3333);
  \draw[symbol] (8.2857,-3.8571) -- (8.4524,-4.0238);
  \draw[symbol] (8.4286,-4.0238) -- (8.2857,-4.1667);
  \draw[symbol] (8.7619,-3.2381) circle[x radius=0.0952, y radius=0.0952];
  \draw[symbol] (8.7619,-4.7619) circle[x radius=0.0952, y radius=0.0952];
  \draw[port name] (8.7738,-3.3095) node[anchor=north] {\textsf{$\nodenamebit{PRN}$}};
  \draw[port name] (8.7738,-4.7143) node[anchor=south] {\textsf{$\nodenamebit{CLRN}$}};
  \draw[port name] (8.3810,-3.6190) node[anchor=west] {\textsf{$\nodenamebit{D}$}};
  \draw[port name] (8.3810,-4.3810) node[anchor=west] {\textsf{$\nodenamebit{ENA}$}};
  \draw[port name] (9.1667,-3.6190) node[anchor=east] {\textsf{$\nodenamebit{Q}$}};

  % Symbol (DFFE) named inst3
  \draw[symbol bounds] (10.4762,-3.0476) rectangle (12.0000,-4.9524);
  \draw[symbol type] (10.7857,-3.1667) node[] {DFFE};
  \draw[symbol] (10.7619,-4.6667) -- (11.7143,-4.6667);
  \draw[symbol] (10.7619,-3.3333) -- (11.7143,-3.3333);
  \draw[symbol] (11.7143,-4.6667) -- (11.7143,-3.3333);
  \draw[symbol] (10.7619,-4.6667) -- (10.7619,-3.3333);
  \draw[symbol] (10.7619,-3.8571) -- (10.9286,-4.0238);
  \draw[symbol] (10.9048,-4.0238) -- (10.7619,-4.1667);
  \draw[symbol] (11.2381,-3.2381) circle[x radius=0.0952, y radius=0.0952];
  \draw[symbol] (11.2381,-4.7619) circle[x radius=0.0952, y radius=0.0952];
  \draw[port name] (11.2500,-3.3095) node[anchor=north] {\textsf{$\nodenamebit{PRN}$}};
  \draw[port name] (11.2500,-4.7143) node[anchor=south] {\textsf{$\nodenamebit{CLRN}$}};
  \draw[port name] (10.8571,-3.6190) node[anchor=west] {\textsf{$\nodenamebit{D}$}};
  \draw[port name] (10.8571,-4.3810) node[anchor=west] {\textsf{$\nodenamebit{ENA}$}};
  \draw[port name] (11.6429,-3.6190) node[anchor=east] {\textsf{$\nodenamebit{Q}$}};

  % Symbol (DFFE) named inst1
  \draw[symbol bounds] (10.4762,0.0000) rectangle (12.0000,-1.9048);
  \draw[symbol type] (10.7857,-0.1190) node[] {DFFE};
  \draw[symbol] (10.7619,-1.6190) -- (11.7143,-1.6190);
  \draw[symbol] (10.7619,-0.2857) -- (11.7143,-0.2857);
  \draw[symbol] (11.7143,-1.6190) -- (11.7143,-0.2857);
  \draw[symbol] (10.7619,-1.6190) -- (10.7619,-0.2857);
  \draw[symbol] (10.7619,-0.8095) -- (10.9286,-0.9762);
  \draw[symbol] (10.9048,-0.9762) -- (10.7619,-1.1190);
  \draw[symbol] (11.2381,-0.1905) circle[x radius=0.0952, y radius=0.0952];
  \draw[symbol] (11.2381,-1.7143) circle[x radius=0.0952, y radius=0.0952];
  \draw[port name] (11.2500,-0.2619) node[anchor=north] {\textsf{$\nodenamebit{PRN}$}};
  \draw[port name] (11.2500,-1.6667) node[anchor=south] {\textsf{$\nodenamebit{CLRN}$}};
  \draw[port name] (10.8571,-0.5714) node[anchor=west] {\textsf{$\nodenamebit{D}$}};
  \draw[port name] (10.8571,-1.3333) node[anchor=west] {\textsf{$\nodenamebit{ENA}$}};
  \draw[port name] (11.6429,-0.5714) node[anchor=east] {\textsf{$\nodenamebit{Q}$}};

  % Symbol (JKFF) named inst2
  \draw[symbol bounds] (8.0000,0.0000) rectangle (9.5238,-1.9048);
  \draw[symbol type] (8.2857,-0.1190) node[] {JKFF};
  \draw[symbol] (8.2857,-0.2857) -- (9.2381,-0.2857);
  \draw[symbol] (8.2857,-1.6190) -- (9.2381,-1.6190);
  \draw[symbol] (9.2381,-1.6190) -- (9.2381,-0.2857);
  \draw[symbol] (8.2857,-1.6190) -- (8.2857,-0.2857);
  \draw[symbol] (8.2857,-0.8095) -- (8.2857,-0.7857);
  \draw[symbol] (8.4524,-0.9524) -- (8.2857,-1.1190);
  \draw[symbol] (8.2857,-0.7619) -- (8.4762,-0.9524);
  \draw[symbol] (8.7619,-0.1905) circle[x radius=0.0952, y radius=0.0952];
  \draw[symbol] (8.7619,-1.7143) circle[x radius=0.0952, y radius=0.0952];
  \draw[port name] (8.7738,-0.2619) node[anchor=north] {\textsf{$\nodenamebit{PRN}$}};
  \draw[port name] (8.7738,-1.6667) node[anchor=south] {\textsf{$\nodenamebit{CLRN}$}};
  \draw[port name] (8.3810,-1.3333) node[anchor=west] {\textsf{$\nodenamebit{K}$}};
  \draw[port name] (8.3810,-0.5714) node[anchor=west] {\textsf{$\nodenamebit{J}$}};
  \draw[port name] (9.1429,-0.5714) node[anchor=east] {\textsf{$\nodenamebit{Q}$}};

  % Symbol (OR2) named inst5
  \draw[primitive] (5.8571,-1.6190) -- (6.1190,-1.6190);
  \draw[primitive] (5.8571,-1.0714) -- (6.1190,-1.0714);
  \draw[primitive] (5.8611,-1.6230) arc[x radius=0.3929, y radius=0.3929, start angle=-45.0, end angle=50.7];
  \draw[primitive] (6.6961,-1.3284) arc[x radius=0.7500, y radius=0.7500, start angle=41.1, end angle=90.9];
  \draw[primitive] (6.1187,-1.6189) arc[x radius=0.7500, y radius=0.7500, start angle=-90.9, end angle=-39.7];

  \draw[node line, ->] (8.7619,-2.4762) -- (8.7619,-1.9048) -- (8.7619,-1.8095);
  \draw[node line, ->] (11.2381,-2.4762) -- (11.2381,-1.9048) -- (11.2381,-1.8095);
  \draw[node line, ->] (5.5238,-0.5714) -- (8.0000,-0.5714) -- (8.2857,-0.5714);
  \draw[node line] (5.5238,-0.5714) -- (4.9524,-0.5714);
  \draw[node line] (5.5238,-0.5714) -- (5.5238,-1.1429) -- (5.8810,-1.1429);
  \draw[node line] (4.9524,-1.5238) -- (5.5238,-1.5238) -- (5.8810,-1.5238);
  \draw[node line, ->] (6.6667,-1.3333) -- (7.0476,-1.3333) -- (8.0000,-1.3333) -- (8.2857,-1.3333);
  \draw[node line, ->] (9.9048,-1.3333) -- (10.4762,-1.3333) -- (10.7619,-1.3333);
  \draw[node line, ->] (9.9048,-0.9524) -- (10.4762,-0.9524) -- (10.7619,-0.9524);
  \draw[node line, ->] (7.4286,-0.9524) -- (8.0000,-0.9524) -- (8.2857,-0.9524);
  \draw[node line, ->] (9.2381,-0.5714) -- (9.5238,-0.5714) -- (10.4762,-0.5714) -- (10.7619,-0.5714);
  \draw[node line] (12.9524,-0.5714) -- (12.0000,-0.5714) -- (11.7381,-0.5714);
  \draw[node line, ->] (9.9048,-4.3810) -- (10.4762,-4.3810) -- (10.7619,-4.3810);
  \draw[node line, ->] (9.9048,-4.0000) -- (10.4762,-4.0000) -- (10.7619,-4.0000);
  \draw[node line, ->] (11.2381,-5.5238) -- (11.2381,-4.9524) -- (11.2381,-4.8571);
  \draw[node line, ->] (8.7619,-5.5238) -- (8.7619,-4.9524) -- (8.7619,-4.8571);
  \draw[node line, ->] (7.4286,-4.3810) -- (8.0000,-4.3810) -- (8.2857,-4.3810);
  \draw[node line, ->] (7.4286,-4.0000) -- (8.0000,-4.0000) -- (8.2857,-4.0000);
  \draw[bus line] (12.9524,-3.6190) -- (12.0000,-3.6190) -- (11.7381,-3.6190);
  \draw[bus line, ->] (9.2619,-3.6190) -- (9.5238,-3.6190) -- (10.4762,-3.6190) -- (10.7619,-3.6190);
  \draw[node line, ->] (5.7262,-3.6190) -- (6.8571,-3.6190) -- (8.0000,-3.6190) -- (8.2857,-3.6190);
  \draw[node line, ->] (8.7619,0.0000) -- (8.7619,-0.0952);
  \draw[node line, ->] (11.2381,0.0000) -- (11.2381,-0.0952);
  \draw[node line, ->] (11.2381,-3.0476) -- (11.2381,-3.1429);
  \draw[node line, ->] (8.7619,-3.0476) -- (8.7619,-3.1429);
  \draw[node line] (13.5238,-1.7143) -- (14.7619,-1.7143);
  \draw[node line] (13.5238,-0.9524) -- (14.7619,-0.9524);
  \draw[bus line] (13.5238,-4.0000) -- (14.7619,-4.0000);
  \draw[bus line] (13.5238,-4.7619) -- (14.7619,-4.7619);
  \draw[node line] (6.8571,-5.5238) -- (5.7262,-5.5238);
  \draw[node line] (6.8571,-5.1429) -- (5.7262,-5.1429);
  \draw[node line] (6.8571,-4.7619) -- (5.7262,-4.7619);
  \draw[node line] (6.8571,-4.3810) -- (5.7262,-4.3810);
  \draw[line name] (9.5238,-3.5238) node[anchor=south west] {$\nodenamerange{opA}{3}{0}$};
  \draw[line name] (12.0000,-3.5238) node[anchor=south west] {$\nodenamerange{opB}{3}{0}$};
  \draw[line name] (7.4286,-3.9048) node[anchor=south west] {$\nodenamebit{clk}$};
  \draw[line name] (7.4286,-4.2857) node[anchor=south west] {$\nodenamebit{intro}$};
  \draw[line name] (8.6667,-5.5714) node[anchor=south west, rotate=90] {$\nodenamebit{nrst}$};
  \draw[line name] (11.1429,-5.5714) node[anchor=south west, rotate=90] {$\nodenamebit{nrst}$};
  \draw[line name] (9.9048,-3.9048) node[anchor=south west] {$\nodenamebit{clk}$};
  \draw[line name] (9.9048,-4.2857) node[anchor=south west] {$\nodenamebit{intro}$};
  \draw[line name] (12.7857,-0.4762) node[anchor=south east] {$\nodenamebit{sigB}$};
  \draw[line name] (10.3571,-0.4762) node[anchor=south east] {$\nodenamebit{sigA}$};
  \draw[line name] (7.4286,-0.8571) node[anchor=south west] {$\nodenamebit{clk}$};
  \draw[line name] (9.9048,-0.8571) node[anchor=south west] {$\nodenamebit{clk}$};
  \draw[line name] (9.9048,-1.2381) node[anchor=south west] {$\nodenamebit{intro}$};
  \draw[line name] (5.5238,-1.4286) node[anchor=south east] {$\nodenamebit{intro}$};
  \draw[line name] (4.9524,-0.4762) node[anchor=south west] {$\nodenamebit{negar}$};
  \draw[line name] (11.1429,-2.5238) node[anchor=south west, rotate=90] {$\nodenamebit{nrst}$};
  \draw[line name] (8.6667,-2.5238) node[anchor=south west, rotate=90] {$\nodenamebit{nrst}$};
  \draw[junction] (5.5238,-0.5714) node[contact] {};
