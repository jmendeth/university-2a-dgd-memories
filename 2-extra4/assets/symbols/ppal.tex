  % Symbol (ppal) named inst
  \draw[symbol bounds] (1.5238,-1.5238) rectangle (6.0952,-6.0952);
  \draw[symbol type] (1.9167,-1.6905) node[] {ppal};
  \draw[symbol] (1.9048,-1.9048) rectangle (5.7143,-5.7143);
  \draw[port name] (2.0000,-3.2381) node[anchor=west] {$\nodenamebit{nkey}$};
  \draw[port name] (2.0000,-3.8095) node[anchor=west] {$\nodenamerange{keycode}{3}{0}$};
  \draw[port name] (3.6190,-2.0000) node[anchor=east, rotate=90] {$\nodenamebit{clk}$};
  \draw[port name] (4.0000,-2.0000) node[anchor=east, rotate=90] {$\nodenamebit{nrst}$};
  \draw[port name] (5.6190,-3.6190) node[anchor=east] {$\nodenamebit{show}$};
  \draw[port name] (5.6190,-4.0000) node[anchor=east] {$\nodenamerange{selop}{1}{0}$};
  \draw[port name] (2.4762,-5.6190) node[anchor=west, rotate=90] {$\nodenamebit{sigA}$};
  \draw[port name] (2.8571,-5.6190) node[anchor=west, rotate=90] {$\nodenamerange{opA}{3}{0}$};
  \draw[port name] (3.6190,-5.6190) node[anchor=west, rotate=90] {$\nodenamebit{sigB}$};
  \draw[port name] (4.0000,-5.6190) node[anchor=west, rotate=90] {$\nodenamerange{opB}{3}{0}$};
  \draw[port name] (4.7619,-5.6190) node[anchor=west, rotate=90] {$\nodenamebit{sigRes}$};
  \draw[port name] (5.1429,-5.6190) node[anchor=west, rotate=90] {$\nodenamerange{res}{7}{0}$};

  \draw[bus line] (5.1429,-5.7143) -- (5.1429,-6.0952);
  \draw[node line] (4.7619,-5.7143) -- (4.7619,-6.0952);
  \draw[bus line] (4.0000,-5.7143) -- (4.0000,-6.0952);
  \draw[node line] (3.6190,-5.7143) -- (3.6190,-6.0952);
  \draw[bus line] (2.8571,-5.7143) -- (2.8571,-6.0952);
  \draw[node line] (2.4762,-5.7143) -- (2.4762,-6.0952);
  \draw[bus line] (5.7143,-4.0000) -- (6.0952,-4.0000);
  \draw[node line] (5.7143,-3.6190) -- (6.0952,-3.6190);
  \draw[node line, ->] (4.0000,-1.5238) -- (4.0000,-1.9048);
  \draw[node line, ->] (3.6190,-1.5238) -- (3.6190,-1.9048);
  \draw[bus line, ->] (1.5238,-3.8095) -- (1.9048,-3.8095);
  \draw[node line, ->] (1.5238,-3.2381) -- (1.9048,-3.2381);
