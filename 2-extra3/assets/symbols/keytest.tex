  % Symbol (keytest) named inst
  \draw[symbol bounds] (1.5238,-1.5238) rectangle (5.3333,-3.8095);
  \draw[symbol type] (2.0833,-1.6667) node[] {keytest};
  \draw[symbol] (1.9048,-1.9048) rectangle (4.9524,-3.4286);
  \draw[port name] (3.6190,-2.0000) node[anchor=east, rotate=90] {$\nodenamebit{clk}$};
  \draw[port name] (3.2381,-2.0000) node[anchor=east, rotate=90] {$\nodenamebit{nrst}$};
  \draw[port name] (2.0000,-2.4762) node[anchor=west] {$\nodenamerange{col}{3}{0}$};
  \draw[port name] (4.8571,-2.2857) node[anchor=east] {$\nodenamebit{nkey}$};
  \draw[port name] (4.8571,-3.0476) node[anchor=east] {$\nodenamerange{keycode}{3}{0}$};
  \draw[port name] (2.0000,-2.8571) node[anchor=west] {$\nodenamerange{row}{3}{0}$};

  \draw[bus line] (1.9048,-2.8571) -- (1.5238,-2.8571);
  \draw[bus line] (4.9524,-3.0476) -- (5.3333,-3.0476);
  \draw[node line] (4.9524,-2.2857) -- (5.3333,-2.2857);
  \draw[bus line, ->] (1.5238,-2.4762) -- (1.9048,-2.4762);
  \draw[node line, ->] (3.2381,-1.5238) -- (3.2381,-1.9048);
  \draw[node line, ->] (3.6190,-1.5238) -- (3.6190,-1.9048);
